(this.webpackJsonpreittiopas=this.webpackJsonpreittiopas||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"pysakit":["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R"],"tiet":[{"mista":"A","mihin":"B","kesto":3},{"mista":"B","mihin":"D","kesto":2},{"mista":"D","mihin":"A","kesto":1},{"mista":"A","mihin":"C","kesto":1},{"mista":"C","mihin":"D","kesto":5},{"mista":"C","mihin":"E","kesto":2},{"mista":"E","mihin":"D","kesto":3},{"mista":"E","mihin":"F","kesto":1},{"mista":"F","mihin":"G","kesto":1},{"mista":"G","mihin":"H","kesto":2},{"mista":"H","mihin":"I","kesto":2},{"mista":"I","mihin":"J","kesto":1},{"mista":"I","mihin":"G","kesto":1},{"mista":"G","mihin":"K","kesto":8},{"mista":"K","mihin":"L","kesto":1},{"mista":"L","mihin":"M","kesto":1},{"mista":"E","mihin":"M","kesto":10},{"mista":"M","mihin":"N","kesto":2},{"mista":"N","mihin":"O","kesto":2},{"mista":"O","mihin":"P","kesto":2},{"mista":"O","mihin":"Q","kesto":1},{"mista":"P","mihin":"Q","kesto":2},{"mista":"N","mihin":"Q","kesto":1},{"mista":"Q","mihin":"R","kesto":5},{"mista":"R","mihin":"N","kesto":3},{"mista":"D","mihin":"R","kesto":6}],"linjastot":{"keltainen":["E","F","G","K","L","M","N"],"punainen":["C","D","R","Q","N","O","P"],"vihre\xe4":["D","B","A","C","E","F","G","H","I","J"],"sininen":["D","E","M","N","O"]}}')},35:function(e,t,n){e.exports=n(43)},43:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(20),l=n.n(r),o=n(5),s=n(27),c=n(18),u=function(){return c.linjastot},m=function(){return c.pysakit},h=function(){return c.tiet},f=m(),k=h(),d=function(e){console.log("init...");for(var t=f.length,n=new Array(t).fill([]),a=Array.from({length:t},(function(e){return new Array(t).fill(0)})),i=function(t){var i=k[t],r=f.findIndex((function(e){return e===i.mista})),l=f.findIndex((function(e){return e===i.mihin}));if(!e&&function(e,t){var n=u();for(var a in n){var i=n[a],r=i.findIndex((function(t){return t===f[e]})),l=i.findIndex((function(e){return e===f[t]}));if(-1!==r&&-1!==l&&Math.abs(r-l)<2)return!1}return!0}(r,l))return"continue";var o=Object(s.a)(n[r]);o.splice(0,0,l),n.splice(r,1,o),(o=Object(s.a)(n[l])).splice(0,0,r),n.splice(l,1,o),a[r][l]=i.kesto,a[l][r]=i.kesto},r=0;r<k.length;r++)i(r);return console.log("...init done"),[n,a]},E=function(e,t){if(console.log("search..."),e=f.findIndex((function(t){return t===e.toUpperCase().trim()})),t=f.findIndex((function(e){return e===t.toUpperCase().trim()})),-1===e||-1===t)return console.log("Can't find stop",{from:e},{to:t}),[[],""];if(e===t)return[f[e],0];var n=function(e,t){var n=d(!1),a=Object(o.a)(n,2),i=a[0],r=a[1],l=new Array(f.length).fill(9999999),s=new Array(f.length).fill(0),c=[];l[e]=0;var u=[].concat(e);for(console.log("Searching distances...");0!==u.length;){var m=u.shift();if(1!==s[m]){s[m]=1;for(var h=0;h<i[m].length;h++){var k=i[m][h],E=l[k],g=l[m]+r[m][k];u.push(k),g<E&&(l[k]=g,c[k]=m),l[m]>l[k]+r[m][k]&&(l[m]=l[k]+r[m][k],s[m]=0,c[m]=k,u.push(m))}if(m===t){console.log("...Found faster...");break}}}return console.log("...Route found"),9999999===l[t]?[[],"-"]:[c,l]}(e,t),a=Object(o.a)(n,2),i=a[0],r=a[1],l=function(e,t,n){if(0===e.length)return[];console.log("print route...");for(var a=n,i=[];a!==t;)i.unshift(f[a]),a=e[a];return i.unshift(f[t]),console.log("...print route done"),i}(i,e,t);return console.log("...search done"),[l,r[t],r]},g=u(),p=function(e){if(console.log("Haetaan linjoja..."),console.log({reitti:e}),e.length<1)return console.log("Tyhj\xe4",{reitti:e}),[];var t=function(e){console.log("k\xe4sittele reitti\xe4...");var t=new Array(e.length-1).fill([]);console.log({reitti:e}),console.log({linjatKaikki:g});for(var n=function(n){for(var a in g){var i=g[a],r=i.findIndex((function(t){return t===e[n-1]})),l=i.findIndex((function(t){return t===e[n]}));-1!==r&&-1!==l&&(Math.abs(r-l)<2&&(t[n-1]=t[n-1].concat(a+" ")))}},a=1;a<e.length;a++)n(a);return console.log("...k\xe4sitelty"),t}(e);return console.log("...linjat haettu"),t},b=n(46),v=n(48),j=n(51),O=n(47),y=n(50),A=n(49),R=function(e){var t=e.aika,n=e.reitti;return i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("b",null,"Reitti: "),n[0],"-",n[n.length-1],i.a.createElement("b",null," Aika: "),t,i.a.createElement("br",null))},C=function(e){var t=e.reitti,n=e.aika,a=e.reitinAjat;if(t.length<1)return i.a.createElement(i.a.Fragment,null);if(t.length<2)return i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("b",null,"Olet jo perill\xe4!"));var r=p(t).concat("------"),l=m(),o=t.map((function(e){return i.a.createElement("tr",{key:e},i.a.createElement("td",null,a[l.findIndex((function(t){return t===e}))]),i.a.createElement("td",null,e),i.a.createElement("td",null,r[t.findIndex((function(t){return e===t}))]))}));return i.a.createElement("div",null,i.a.createElement(R,{aika:n,reitti:t}),i.a.createElement(b.a,{striped:!0},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Aika"),i.a.createElement("th",null,"Pys\xe4kki"),i.a.createElement("th",{colSpan:999},"Linjat")),o)))},I=function(e){var t=e.mista,n=e.mihin,a=e.setReitti,r=e.setAika,l=e.setReitinAjat,s=e.setMessage,c=e.message,u=e.handleMistaChange,h=e.handleMihinChange,f=m().map((function(e){return"".concat(e," ")}));return i.a.createElement(v.a,{onSubmit:function(e){e.preventDefault(),console.log("Haetaan reitti\xe4 ".concat(t," -> ").concat(n));var i=E(t,n),c=Object(o.a)(i,3),u=c[0],m=c[1],h=c[2];console.log("Lomake",{polku:u},{aika:m},{reitinAjat:h}),a(u),r(m),l(h),u.length<1&&s("Reitti\xe4 ei l\xf6ydy! Tarkistathan, ett\xe4 haet oikealla pys\xe4kill\xe4!!!")}},c&&i.a.createElement(j.a,{variant:"warning",onClose:function(){return s(null)},dismissible:!0},c,i.a.createElement("hr",null),"Pysakit: ",f),i.a.createElement(v.a.Group,null,i.a.createElement("b",null,"Hae reitti\xe4: ")),i.a.createElement(v.a.Group,null,i.a.createElement("b",null,"Mist\xe4: "),i.a.createElement("input",{value:t,onChange:u})),i.a.createElement(v.a.Group,null,i.a.createElement("b",null,"Minne: "),i.a.createElement("input",{value:n,onChange:h})),i.a.createElement(O.a,{type:"submit",variant:"primary"},"Hae reitti"))},M=function(){return i.a.createElement(y.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark"},i.a.createElement(y.a.Brand,null,"Reittihaku-sovellus"),i.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(A.a,{className:"head"},i.a.createElement(A.a.Link,{href:"https://koodihaaste.solidabis.com/?utm_source=facebook&utm_medium=banner&utm_campaign=koodihaaste&fbclid=IwAR2mF2954_gj316eu1Y2dyiFKr31QwEylsvxfqLees7TZMo6_Z8EQGzR4cc"},"Reittihaku-sovellus osana Solidabis Oy koodihaastetta"),i.a.createElement(A.a.Link,{href:"https://github.com/veliValentine/Reittiopas"},"L\xe4hdekoodi"),i.a.createElement(y.a.Text,null,"by Nicolas Valentine"))))},x=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),c=s[0],u=s[1],m=Object(a.useState)([]),h=Object(o.a)(m,2),f=h[0],k=h[1],d=Object(a.useState)(""),E=Object(o.a)(d,2),g=E[0],p=E[1],b=Object(a.useState)([]),v=Object(o.a)(b,2),j=v[0],O=v[1],y=Object(a.useState)(null),A=Object(o.a)(y,2),R=A[0],x=A[1];return i.a.createElement("div",{className:"container"},i.a.createElement(M,null),i.a.createElement("br",null),i.a.createElement("h2",null,"Reittihaku"),i.a.createElement(I,{mista:n,mihin:c,setReitti:k,setAika:p,setReitinAjat:O,setMessage:x,message:R,handleMistaChange:function(e){r(e.target.value),x(null)},handleMihinChange:function(e){u(e.target.value),x(null)}}),i.a.createElement(C,{reitti:f,aika:g,reitinAjat:j}))};l.a.render(i.a.createElement(x,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.e0478f04.chunk.js.map